trigger:
- master
- features/*

jobs:

- job: Windows
  pool:
    vmImage: 'vs2017-win2016'
  steps:
  - task: UseDotNet@2
    displayName: 'Install .NET Core 2.x SDK for testing'
    inputs:
      packageType: 'sdk'
      version: '2.x'
  - task: UseDotNet@2
    displayName: 'Install main .NET Core SDK'
    inputs:
      packageType: 'sdk'
      useGlobalJson: true
  # - task: PowerShell@2
  #   displayName: 'Build Script'
  #   inputs:
  #     targetType: filePath
  #     filePath: ./build.ps1
  - task: CmdLine@2
    displayName: 'Build Script'
    inputs:
      script: dotnet tool restore && dotnet run --project build -- $args